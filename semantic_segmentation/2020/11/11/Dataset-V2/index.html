<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="GPS-Independent Localization for UAVs">
	<meta property="og:title" content="The dataset v0.1.0" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://gil-uav.github.io////semantic_segmentation/2020/11/11/Dataset-V2/" />
<meta property="og:image" content="https://gil-uav.github.io///img/home-bg-2.jpg">
	
	

	<meta name="citation_title" content="Project Pages - An Integrated Scientific Blogging Template">


<meta name="citation_author" content="Vegard Bergsvik Øvstegård">



	

	<link rel='shortcut icon' type='image/png' href='/favicon.png' />

    <title>The dataset v0.1.0 - GIL-UAV</title>

    <link rel="canonical" href="https://gil-uav.github.io//semantic_segmentation/2020/11/11/Dataset-V2/">
	
    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="https://gil-uav.github.io//css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="https://gil-uav.github.io//css/clean-blog.css">
	
	<!-- Adjust Colors -->
    <link rel="stylesheet" href="https://gil-uav.github.io//colorscheme.css">

    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="https://gil-uav.github.io//css/syntax.css">

    <!-- Custom Fonts -->
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
	<!-- Math Jax -->
	<script type="text/x-mathjax-config">
	MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
	</script>
	<script type="text/javascript"
	src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
	</script>
	<script type="text/x-mathjax-config">
	MathJax.Hub.Config({
		TeX: { equationNumbers: { autoNumber: "AMS" } }
	});
	</script>

	<!--<script src="http://cdnjs.cloudflare.com/ajax/libs/d3/3.4.13/d3.min.js" type="text/javascript"></script>-->

    <!-- jQuery -->
	<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>

	<!-- Bootstrap Core JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

	<!-- Custom Theme JavaScript -->
	<script src="https://gil-uav.github.io//js/clean-blog.min.js "></script>
	
	
<!-- Asynchronous Google Analytics snippet -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-100795269-2', 'auto');
  ga('send', 'pageview');

</script>

	
<script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async>
</script>
</head>


<body>

    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">GIL-UAV</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="/">Home</a>
                </li>
				
                <li>
                    <a href="/projects/mcl/">Monte Carlo Localization</a>
                </li>
                
                <li>
                    <a href="/projects/semantic_segmentation/">Semantic segmentation</a>
                </li>
                
                
                <li>
                    <a href="/about/">About</a>
                </li>
                
                <li>
                    <a href="/search/">Search</a>
                </li>
                
                <li>
                    <a href="/members/">Members</a>
                </li>
                
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>


    <!-- Post Header -->
<header class="intro-header" style="background-image: url('/img/home-bg-2.jpg');">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading" style="padding: 30px 0">
                    <h1>The dataset v0.1.0</h1>
                    
                    <h2 class="subheading">Results from dataset v0.0.1 and a bump to v0.1.0</h2>
                    
                    <span class="meta">Posted by Vegard Bergsvik Øvstegård on November 11, 2020</span>	
                </div>
            </div>
        </div>
    </div>
</header>






	
	
	
	<div class="float-left">
	<div class="recentpost" style="padding: 10px">
	
	<h4> Recently by the same author: </h4> 
	
	<hr class="style-one">
	
	<a href="/2021/01/29/Fourth-Presentation/"><h2 class="post-title"> Fifth progress presentation</h2></a>
	
	
		<h4 class="post-subtitle">Brief presentation of current progress.</h4>
	
	
	<p class="post-meta" style="margin-top: 5px;margin-bottom:5px; font-size: 0.8em">Posted by Vegard Bergsvik Øvstegård on January 29, 2021</p>
	
	<div class="notepad-index-post-tags" style="">
	<a href="/search/index.html#presentation" title="Other posts from the Presentation tag">Presentation</a>
	</div> 
	
			
 

<hr class="style-one">

	<img src="/img/profile.jpg" style="margin-top:0px; margin-bottom:5px; margin:auto; width:120px !important; border-radius: 50%;">
	
	<h3>Vegard Bergsvik Øvstegård</h3>
	
	<h4>Master Student at University of Oslo's Department of Informatics</h4>
	
	 
	<a href="https://github.com/vegovs" title="Github"><img src="/img/icons/github-icon.png " style="height:50px; float:right; margin-bot:10px"></a>
	
	
	
	<a href="https://ovstegard.no/" title="Google Plus"><img src="/img/icons/url-icon.png " style="height:33px; float:right; margin-top:9px;  margin-right: 10px"></a>
	
	


	
	</div>
	</div>
	
	
	
	
		
	

<!-- Also Interesting -->



	
	
	

	
	 
	
	
			
		
			
		
	
	
	

	
	 
	
	
			
		
			
		
	
	
	

	
	
	

	
	 
	
	
		 
		
		<div class="float-right">
		<div class="relevantpost" style="padding: 10px">
		
		
		<h4> You may find interesting: </h4> 
		
		<hr class="style-one">
		
		<a href="/semantic_segmentation/2020/11/09/Dataset-V1/"><h2 class="post-title"> The dataset v0.0.1</h2></a>
		
		
			<h4 class="post-subtitle">GIL segmentation dataset created with automated annotations, were the goal is to be large and diverse enough to reach satisfying localization results.</h4>
		
		
		<p class="post-meta" style="margin-top: 5px;margin-bottom:5px; font-size: 0.8em">Posted by Vegard Bergsvik Øvstegård on November 9, 2020</p>
		
		<div class="notepad-index-post-tags" style="">
		<a href="/search/index.html#post" title="Other posts from the Post tag">Post</a>&nbsp;<a href="/search/index.html#machine-learning" title="Other posts from the Machine-learning tag">Machine-learning</a>
		</div> 
		
		
		
		
	
			
		
		 
		
		<hr class="style-one">
		
		<a href="/semantic_segmentation/2020/11/09/Dataset-V1/"><h2 class="post-title"> The dataset v0.0.1</h2></a>
		
		
			<h4 class="post-subtitle">GIL segmentation dataset created with automated annotations, were the goal is to be large and diverse enough to reach satisfying localization results.</h4>
		
		
		<p class="post-meta" style="margin-top: 5px;margin-bottom:5px; font-size: 0.8em">Posted by Vegard Bergsvik Øvstegård on November 9, 2020</p>
		
		<div class="notepad-index-post-tags" style="">
		<a href="/search/index.html#post" title="Other posts from the Post tag">Post</a>&nbsp;<a href="/search/index.html#machine-learning" title="Other posts from the Machine-learning tag">Machine-learning</a>
		</div> 
		
		
		
		
	
	

	
	 
	
	
			
		
			
		
	
	
			
		
			
		
	
	
	

	
	 
	
	
			
		
			
		
	
	
			
		
			
		
	
	
	

	
	 
	
	
			
		
			
		
	
	
			
		
			
		
	
	
	

	
	 
	
	
			
		
			
		
	
	
			
		
			
		
	
	
	

	
	 
	
	
			
		
			
		
	
	
	

	
	 
	
	
			
		
			
		
	
	
			
		
			
		
	
	
			
		
			
		
	
	
	

	
	 
	
	
			
		
			
		
	
	
			
		
			
		
	
	
	

	
	 
	
	
			
		
			
		
	
	
	


		</div>
		</div>

<!-- Post Content -->
<style>
img {
	display:block;
	max-width:  100%;
	margin-left: auto;
	margin-right: auto;
}

@media only screen and (min-width: 1000px) {
img {
	-moz-transition:-moz-transform 0.5s ease-in; 
	-webkit-transition:-webkit-transform 0.5s ease-in; 
	-o-transition:-o-transform 0.5s ease-in;
}
img:active{
	-moz-transform:scale(1.2); 
	-webkit-transform:scale(1.2);
	-o-transform:scale(1.2);
}
}

@media only screen and (min-width: 1250px) {
img {
	-moz-transition:-moz-transform 0.5s ease-in; 
	-webkit-transition:-webkit-transform 0.5s ease-in; 
	-o-transition:-o-transform 0.5s ease-in;
}
img:active{
	-moz-transform:scale(1.5); 
	-webkit-transform:scale(1.5);
	-o-transform:scale(1.5);
}
}

@media only screen and (min-width: 1500px) {
img {
	-moz-transition:-moz-transform 0.5s ease-in; 
	-webkit-transition:-webkit-transform 0.5s ease-in; 
	-o-transition:-o-transform 0.5s ease-in;
}
img:active{
	-moz-transform:scale(2); 
	-webkit-transform:scale(2);
	-o-transform:scale(2);
}
}
</style>

<article>
    <div id="content" class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">

				<p>
The results from training a U-net on dataset v0.0.1 were better than feared. I thought there would be too much noise and bad iterations from the dataset, as mentioned in the previous <a href="/semantic_segmentation/2020/11/09/Dataset-V1/">post</a>. Despite the discussed issues, the network handled the dataset surprisingly well:
</p>
<h2 id="training-metrics">
Training metrics:
</h2>
<figure>
<img src="/img/val_f1.svg" alt="F1 score from validation" />
<figcaption>
<strong>F1 score from validation</strong>
</figcaption>
</figure>
<figure>
<img src="/img/val_loss.svg" alt="Loss from validation" />
<figcaption>
<strong>Loss from validation</strong>
</figcaption>
</figure>
<h2 id="predictions">
Predictions:
</h2>
<figure>
<img src="/img/resultsv001.png" alt="Orthophotos with predicted buildings from the test set." />
<figcaption>
<strong>Orthophotos with predicted buildings from the test set.</strong>
</figcaption>
</figure>
<figure>
<img src="/img/resultsv001_2.png" alt="Ground truth with predictions from the test set." />
<figcaption>
<strong>Ground truth with predictions from the test set.</strong>
</figcaption>
</figure>
<p>
As can be seen on set number two on the figures above, another issue with the dataset occurred. When extracting sets, some of the raster maps were extracted out of bounds from the aerial imagery base. This resulted in some black parts of the maps. Another observation is that several sets contain images with the background class only. An important part of the network is distinguishing between buildings and water and what is not. However, these sets might only prolong the training time, as many pixels belonging to the background class exists in the sets containing the target classes. This also translates to sets containing only water. I believe that there are enough sets with both target classes than for these sets to be included.
</p>
<h2 id="bumping-the-dataset-to-v0.1.0">
Bumping the dataset to v0.1.0
</h2>
<p>
Regarding what i just mentioned, the new dataset has no sets with images that contain black pixels(0,0,0) as these are out of bounds sets and might induce noise. Sets containing only background class or only water class have also been removed. Lastly the masks have synthetically changed their interpolation to nearest neighbour, and converted to grayscale images. This reduces their size, and removes any ambiguous pixels between object borders that were not part of any classes. I.e buildings etc in masks have hard edges, and not smooth transitions. Such transitions may affect training negatively, and cause problems.
</p>
<p>
The results from said improvements were a reduction of the dataset size from <strong>25,1Gb</strong> to <strong>17,4Gb</strong>, and from <strong>67219</strong> to <strong>43802</strong> samples. There are still improvements to be made on the variance of the dataset and the annotations’ accuracy. Said improvements are the goal for the next version.
</p>
<h3 id="statistics">
Statistics:
</h3>
<ul>
<li>
Mean: [114.84165988 115.00874479 104.93408015]
</li>
<li>
Standard deviation: [47.1493354 42.40584163 38.70938704]
</li>
<li>
Building pixels: 2787227245
</li>
<li>
Water pixels: 744719009
</li>
<li>
Background pixels: 7950485234
</li>
<li>
Building percentage: 24 %
</li>
<li>
Water pixels: 6 %
</li>
<li>
Background pixels: 69 %
</li>
</ul>


                <hr>

                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/semantic_segmentation/2020/11/09/Dataset-V1/" data-toggle="tooltip" data-placement="top" title="The dataset v0.0.1">&larr; Previous Post</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/2020/11/12/Third-Presentation/" data-toggle="tooltip" data-placement="top" title="Third progress presentation">Next Post &rarr;</a>
                    </li>
                    
                </ul>

            </div>
        </div>
    </div>
</article>

<hr>

<div class="container" style="padding-right: 50px;padding-left: 50px;">
<div class="row">
<div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1" id="disqus_thread">

</div>
</div>
</div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = '';
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>


<hr>


	
    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    <li>
                        <a href="/feed.xml">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    
                    <li>
                        <a href="https://github.com/gil-uav/">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
									
                </ul>
            </div>
        </div>
    </div>
</footer>



</body>

</html>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="GPS-Independent Localization for UAVs">
	<meta property="og:title" content="Monte Carlo Localization Background" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://gil-uav.github.io////mcl/2020/11/23/MCL-Background/" />
<meta property="og:image" content="https://gil-uav.github.io///img/home-bg-2.jpg">
	
	

	<meta name="citation_title" content="Project Pages - An Integrated Scientific Blogging Template">


<meta name="citation_author" content="Vegard Bergsvik Øvstegård">



	

	<link rel='shortcut icon' type='image/png' href='/favicon.png' />

    <title>Monte Carlo Localization Background - GIL-UAV</title>

    <link rel="canonical" href="https://gil-uav.github.io//mcl/2020/11/23/MCL-Background/">
	
    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="https://gil-uav.github.io//css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="https://gil-uav.github.io//css/clean-blog.css">
	
	<!-- Adjust Colors -->
    <link rel="stylesheet" href="https://gil-uav.github.io//colorscheme.css">

    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="https://gil-uav.github.io//css/syntax.css">

    <!-- Custom Fonts -->
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
	<!-- Math Jax -->
	<script type="text/x-mathjax-config">
	MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
	</script>
	<script type="text/javascript"
	src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
	</script>
	<script type="text/x-mathjax-config">
	MathJax.Hub.Config({
		TeX: { equationNumbers: { autoNumber: "AMS" } }
	});
	</script>

	<!--<script src="http://cdnjs.cloudflare.com/ajax/libs/d3/3.4.13/d3.min.js" type="text/javascript"></script>-->

    <!-- jQuery -->
	<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>

	<!-- Bootstrap Core JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

	<!-- Custom Theme JavaScript -->
	<script src="https://gil-uav.github.io//js/clean-blog.min.js "></script>
	
	
<!-- Asynchronous Google Analytics snippet -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-100795269-2', 'auto');
  ga('send', 'pageview');

</script>

	
<script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async>
</script>
</head>


<body>

    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">GIL-UAV</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="/">Home</a>
                </li>
				
                <li>
                    <a href="/projects/mcl/">Monte Carlo Localization</a>
                </li>
                
                <li>
                    <a href="/projects/semantic_segmentation/">Semantic segmentation</a>
                </li>
                
                
                <li>
                    <a href="/about/">About</a>
                </li>
                
                <li>
                    <a href="/search/">Search</a>
                </li>
                
                <li>
                    <a href="/members/">Members</a>
                </li>
                
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>


    <!-- Post Header -->
<header class="intro-header" style="background-image: url('/img/home-bg-2.jpg');">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading" style="padding: 30px 0">
                    <h1>Monte Carlo Localization Background</h1>
                    
                    <h2 class="subheading">This post contains an overview and description of former work and terminology related to Monte Carlo Localization.</h2>
                    
                    <span class="meta">Posted by Vegard Bergsvik Øvstegård on November 23, 2020</span>	
                </div>
            </div>
        </div>
    </div>
</header>






	
	
		
	

<!-- Also Interesting -->



	
	
	

	
	 
	
	
			
		
			
		
	
	
	

	
	 
	
	
			
		
			
		
	
	
			
		
			
		
	
	
	

	
	 
	
	
			
		
			
		
	
	
			
		
			
		
	
	
	

	
	 
	
	
			
		
			
		
	
	
			
		
			
		
	
	
	

	
	 
	
	
			
		
			
		
	
	
			
		
			
		
	
	
	

	
	 
	
	
			
		
			
		
	
	
			
		
			
		
	
	
	

	
	 
	
	
			
		
			
		
	
	
			
		
			
		
	
	
	

	
	 
	
	
			
		
			
		
	
	
	

	
	 
	
	
			
		
			
		
	
	
			
		
			
		
	
	
			
		
			
		
	
	
	

	
	 
	
	
			
		
			
		
	
	
			
		
			
		
	
	
	

	
	 
	
	
			
		
			
		
	
	
	


		</div>
		</div>

<!-- Post Content -->
<style>
img {
	display:block;
	max-width:  100%;
	margin-left: auto;
	margin-right: auto;
}

@media only screen and (min-width: 1000px) {
img {
	-moz-transition:-moz-transform 0.5s ease-in; 
	-webkit-transition:-webkit-transform 0.5s ease-in; 
	-o-transition:-o-transform 0.5s ease-in;
}
img:active{
	-moz-transform:scale(1.2); 
	-webkit-transform:scale(1.2);
	-o-transform:scale(1.2);
}
}

@media only screen and (min-width: 1250px) {
img {
	-moz-transition:-moz-transform 0.5s ease-in; 
	-webkit-transition:-webkit-transform 0.5s ease-in; 
	-o-transition:-o-transform 0.5s ease-in;
}
img:active{
	-moz-transform:scale(1.5); 
	-webkit-transform:scale(1.5);
	-o-transform:scale(1.5);
}
}

@media only screen and (min-width: 1500px) {
img {
	-moz-transition:-moz-transform 0.5s ease-in; 
	-webkit-transition:-webkit-transform 0.5s ease-in; 
	-o-transition:-o-transform 0.5s ease-in;
}
img:active{
	-moz-transform:scale(2); 
	-webkit-transform:scale(2);
	-o-transform:scale(2);
}
}
</style>

<article>
    <div id="content" class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">

				<h1 id="robot-localization">
Robot localization
</h1>
<p>
Robot localization refers to a robot’s ability to establish its position and orientation within its frame of reference. Vision-based localization or optical localization uses computer vision techniques and algorithms, with optical sensors to extract features of the surrounding environment required to localize an agent.
</p>
<h1 id="particle-filter">
Particle filter
</h1>
<p>
A Particle filter is a type of algorithm used to solve states in dynamical systems<span class="citation" data-cites="mclalg">[1]</span>. They are often called Monte Carlo algorithms as they rely on repeated random sampling to obtain results. In other words, these algorithms use randomness to solve problems that might be deterministic in principle. Our problem is locating the UAV on a map, and a Monte Carlo approach is to compare the environment visible to the UAV with random locations on the map. The probability of the UAV being in an area is related to how similar the environment is around the UAV and a given random sample in the map.
</p>
<h1 id="monte-carlo-localization">
Monte Carlo localization
</h1>
<p>
Monte Carlo Localization, a.k.a particle filter localization<span class="citation" data-cites="mclalg">[1]</span>, is an algorithm for robots to obtain pose and orientation. The algorithm uses a particle filter to represent probable states’ distribution, where each particle represents a possible state, i.e., a hypothesis of where the robot is<span class="citation" data-cites="mclalg">[1]</span>. As the robot has no information about where it is and assumes any pose and orientation is equally likely, the algorithm typically starts with a uniform random distribution of the configuration space. The particles shift whenever the robot moves to predict its next state. Every time the robot senses its environment, the particles are resampled based on how well the sensed data correlate with the predicted state. This resampling method is called recursive Bayesian estimation. Over time, the particles should converge towards the actual position of the robot<span class="citation" data-cites="mclalg">[1]</span>.
</p>
<h2 id="description">
Description
</h2>
<p>
Consider a robot with an internal map of its surroundings. As the robot moves around, it needs to know its position within said map. Predicting its pose and orientation by using its sensor observations is known as previously mentioned, robot localization. Due to imperfections within the robot’s sensors, its mechanics, and perhaps the environment’s randomness, the movement might not behave entirely predictably. For this reason, it generates many random guesses on where heading. These guesses are known as particles. Each particle contains a full description of a future state, such as orientation, coordinates, etc. When the robot does an observation, it discards the guesses inconsistent with what the robot can see and generates more particles of those that appear consistent. Over time, the idea is that most particles, or guesses, converge to where the robot is.
</p>
<h2 id="example-of-1d-robot">
Example of 1D robot:
</h2>
<p>
Consider a robot in a 1D circular corridor with three identical doors, using a sensor that returns either true or false depending on whether there is a door.
</p>
<h3 id="t0">
<span class="math inline"><em>t</em> = 0</span>
</h3>
<figure>
<img src="/img/Mcl_t_0_1.svg" alt="The algorithm initializes with a uniform distribution of particles. The robot considers itself equally likely to be at any point in space along the corridor, even though it is physically at the first door." />
<figcaption>
The algorithm initializes with a uniform distribution of particles. The robot considers itself equally likely to be at any point in space along the corridor, even though it is physically at the first door.
</figcaption>
</figure>
<figure>
<img src="/img/Mcl_t_0_2.svg" alt="Sensor update: the robot detects a door. It assigns a weight to each of the particles. The particles which are likely to give this sensor reading receive a higher weight." />
<figcaption>
Sensor update: the robot detects a door. It assigns a weight to each of the particles. The particles which are likely to give this sensor reading receive a higher weight.
</figcaption>
</figure>
<figure>
<img src="/img/Mcl_t_0_3.svg" alt="Resampling: the robot generates a set of new particles, with most of them generated around the previous particles with more weight. It now believes it is at one of the three doors." />
<figcaption>
Resampling: the robot generates a set of new particles, with most of them generated around the previous particles with more weight. It now believes it is at one of the three doors.
</figcaption>
</figure>
<h3 id="t1">
<span class="math inline"><em>t</em> = 1</span>
</h3>
<figure>
<img src="/img/Mcl_t_1_1.svg" alt="Motion update: the robot moves some distance to the right. All particles also move right, and some noise is applied. The robot is physically between the second and third doors." />
<figcaption>
Motion update: the robot moves some distance to the right. All particles also move right, and some noise is applied. The robot is physically between the second and third doors.
</figcaption>
</figure>
<figure>
<img src="/img/Mcl_t_1_2.svg" alt="Sensor update: the robot detects no door. It assigns a weight to each of the particles. The particles likely to give this sensor reading receive a higher weight." />
<figcaption>
Sensor update: the robot detects no door. It assigns a weight to each of the particles. The particles likely to give this sensor reading receive a higher weight.
</figcaption>
</figure>
<figure>
<img src="/img/Mcl_t_1_3.svg" alt="Resampling: the robot generates a set of new particles, with most of them generated around the previous particles with more weight. It now believes it is at one of two locations." />
<figcaption>
Resampling: the robot generates a set of new particles, with most of them generated around the previous particles with more weight. It now believes it is at one of two locations.
</figcaption>
</figure>
<h3 id="t2">
<span class="math inline"><em>t</em> = 2</span>
</h3>
<figure>
<img src="/img/Mcl_t_2_1.svg" alt="Motion update: the robot moves some distance to the left. All particles also move left, and some noise is applied. The robot is physically at the second door." />
<figcaption>
Motion update: the robot moves some distance to the left. All particles also move left, and some noise is applied. The robot is physically at the second door.
</figcaption>
</figure>
<figure>
<img src="/img/Mcl_t_2_2.svg" alt="Sensor update: the robot detects a door. It assigns a weight to each of the particles. The particles likely to give this sensor reading receive a higher weight." />
<figcaption>
Sensor update: the robot detects a door. It assigns a weight to each of the particles. The particles likely to give this sensor reading receive a higher weight.
</figcaption>
</figure>
<figure>
<img src="/img/Mcl_t_2_3.svg" alt="Resampling: the robot generates a set of new particles, with most of them generated around the previous particles with more weight. The robot has successfully localized itself." />
<figcaption>
Resampling: the robot generates a set of new particles, with most of them generated around the previous particles with more weight. The robot has successfully localized itself.
</figcaption>
</figure>
<p>
At the end of the three iterations, most of the particles are converged on the actual position of the robot as desired.
</p>
<h2 id="algorithm">
Algorithm:
</h2>
<p>
Given an <em>a priori</em> known map of the environment, the goal of the algorithm is for the robot to determine its pose within the environment.
</p>
<p>
At every time <span class="math inline"><em>t</em></span> the algorithm takes as input the previous belief <span class="math inline"><em>X</em><sub><em>t</em> − 1</sub> = {<em>x</em><sub><em>t</em> − 1</sub><sup>[1]</sup>, <em>x</em><sub><em>t</em> − 1</sub><sup>[2]</sup>, …, <em>x</em><sub><em>t</em> − 1</sub><sup>[<em>M</em>]</sup>}</span>, an actuation command <span class="math inline"><em>u</em><sub><em>t</em></sub></span>, and data received from sensors <span class="math inline"><em>z</em><sub><em>t</em></sub></span>; and the algorithm outputs the new belief <span class="math inline"><em>X</em><sub><em>t</em></sub></span>.<span class="citation" data-cites="mclalg">[1]</span>
</p>
<figure>
<img src="/img/mclalg.png" alt="Monte Carlo Localization algorithm [1]" />
<figcaption>
Monte Carlo Localization algorithm <span class="citation" data-cites="mclalg">[1]</span>
</figcaption>
</figure>
<h2 id="gil-simulation">
GIL Simulation:
</h2>
<p>
Below is a short simulation of the GIL-framework demonstrating MCL. Red dot is UAV and black dots are particles.
</p>
<iframe src="https://drive.google.com/file/d/1mx2gudpn-xdRaBKmrMXjMMrKQjHGAlqx/preview" width="640" height="480" allowfullscreen="true">
</iframe>
<div id="refs" class="references">
<div id="ref-mclalg">
<p>
[1] S. Thrun, “Probabilistic robotics,” <em>Communications of the ACM</em>, vol. 45, no. 3, pp. 52–57, 2002, doi: <a href="https://doi.org/10.1145/504729.504754">10.1145/504729.504754</a>.
</p>
</div>
</div>


                <hr>

                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/2020/11/12/Third-Presentation/" data-toggle="tooltip" data-placement="top" title="Third progress presentation">&larr; Previous Post</a>
                    </li>
                    
                    
                </ul>

            </div>
        </div>
    </div>
</article>

<hr>

<div class="container" style="padding-right: 50px;padding-left: 50px;">
<div class="row">
<div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1" id="disqus_thread">

</div>
</div>
</div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = '';
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>


<hr>


	
    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    <li>
                        <a href="/feed.xml">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    
                    <li>
                        <a href="https://github.com/gil-uav/">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
									
                </ul>
            </div>
        </div>
    </div>
</footer>



</body>

</html>
